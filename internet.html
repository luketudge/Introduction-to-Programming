
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The internet &#8212; Introduction to Programming with Python</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Relational databases" href="databases.html" />
    <link rel="prev" title="Natural language processing" href="nlp.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      <h1 class="site-logo" id="site-title">Introduction to Programming with Python</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   Welcome
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  get started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="setup.html">
   Setup
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="readings.html">
   Readings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="glossary.html">
   Glossary
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Creating a computer program with Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  the basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="types.html">
   Variables and data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sequences_mappings.html">
   Sequences and mappings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="conditions.html">
   Conditions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="iteration.html">
   Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functions.html">
   Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="modules.html">
   Modules
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="standard_library.html">
   The standard library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="files.html">
   Files
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  software development
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="command_line.html">
   The command line
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="testing.html">
   Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="github.html">
   GitHub
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  specialist topics
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="arrays.html">
   Array computing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="images.html">
   Images
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_analysis.html">
   Data analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="nlp.html">
   Natural language processing
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   The internet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="databases.html">
   Relational databases
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/internet.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/luketudge/introduction-to-programming"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/luketudge/introduction-to-programming/issues/new?title=Issue%20on%20page%20%2Finternet.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/luketudge/introduction-to-programming/master?urlpath=tree/content/internet.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/luketudge/introduction-to-programming/blob/master/content/internet.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#objective">
   Objective
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#requests">
   requests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#http">
   HTTP
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#html">
   HTML
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tags">
     Tags
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comments">
     Comments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hyperlinks">
     Hyperlinks
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attributes">
     Attributes
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#parsing-html">
   Parsing HTML
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beautiful-soup">
     Beautiful Soup
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#finding-tags">
       Finding tags
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h5 nav-item toc-entry">
        <a class="reference internal nav-link" href="#finding-tags-within-tags">
         Finding tags within tags
        </a>
       </li>
      </ul>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#getting-attributes">
       Getting attributes
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#apis">
   APIs
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-keys">
     API keys
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exercise">
   Exercise
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="the-internet">
<h1>The internet<a class="headerlink" href="#the-internet" title="Permalink to this headline">¶</a></h1>
<p>The internet contains a vast wealth of information, and some of it is even useful. In this lesson we will learn how to retrieve information from the internet in a Python program.</p>
<div class="section" id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h2>
<p>Let’s set ourselves a fairly simple task. We would like to automatically retrieve and print out the text of the headline article on a news website. In addition, we would like to find any hyperlinks contained in the article text, and show where those links point to.</p>
<p>As an example website, let’s use the international edition of <a class="reference external" href="https://www.theguardian.com/international">The Guardian</a>, a mainstream online newspaper. Our first step is to <a class="reference internal" href="glossary.html#assignment"><span class="std std-doc">assign</span></a> a <a class="reference internal" href="glossary.html#string"><span class="std std-doc">string</span></a> variable containing the <a class="reference internal" href="glossary.html#url"><span class="std std-ref">URL</span></a> (more commonly called ‘web address’) that points to the main page of the site:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://www.theguardian.com/international&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Copy this URL into your web browser and navigate to the page. Keep it open so that you can refer to it and compare what you see in the browser to what you see happening in the Spyder console as you try out the example commands below.</p>
</div>
<div class="section" id="requests">
<h2>requests<a class="headerlink" href="#requests" title="Permalink to this headline">¶</a></h2>
<p>You might already have guessed what the next step is. That’s right, we need to <a class="reference internal" href="glossary.html#import"><span class="std std-doc">import</span></a> an additional <a class="reference internal" href="glossary.html#package"><span class="std std-doc">package</span></a> containing some new <a class="reference internal" href="glossary.html#function"><span class="std std-doc">functions</span></a>. For retrieving data from the internet, the standard most popular package is one called <code class="docutils literal notranslate"><span class="pre">requests</span></code>. It isn’t part of the Python <a class="reference internal" href="standard_library.html"><span class="doc std std-doc">standard library</span></a>, but it is very widely used and is included in the default Anaconda installation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
</pre></div>
</div>
</div>
</div>
<p>The most important function in the <code class="docutils literal notranslate"><span class="pre">requests</span></code> package, and often the only one we will need, is called <code class="docutils literal notranslate"><span class="pre">get()</span></code>. As the name suggests, it gets the content of a web page. The <a class="reference internal" href="glossary.html#argument"><span class="std std-doc">argument</span></a> is the URL of the page, which in our case we have already stored in a variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So what did we get?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>requests.models.Response
</pre></div>
</div>
</div>
</div>
<p>We get a <code class="docutils literal notranslate"><span class="pre">Response</span></code> object. This variable contains the content of the webpage (assuming that the URL we entered was a valid one), along with some other information.</p>
<p>If you haven’t yet had the occasion to learn about how the internet and webpages are structured, you might want to pause for a moment and think about what you are expecting to find once we work out how to get the content of the webpage out of the <code class="docutils literal notranslate"><span class="pre">Response</span></code> object. Will we get an image showing what the webpage looks like when viewed? Or just the plain text content of the page? Or something else?</p>
</div>
<div class="section" id="http">
<h2>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h2>
<p>To understand what we get from <code class="docutils literal notranslate"><span class="pre">requests.get()</span></code> and how it is organized, let’s look very briefly at what happens behind the scenes when an application on our computer, for example a web browser, gets some information, for example a web page, from the internet.</p>
<p>When we open a web page in our browser, we just see the content of the page, as if our computer is looking down a tube into the internet and viewing parts of it. But of course what actually happens is rather different. When we navigate to a new web page in our browser, our browser sends out a ‘request’ for that page. The request is sent via various intermediate computers until reaching a computer on which the page is stored. This computer then sends back a response. In this setup, we say that our browser is the <a class="reference internal" href="glossary.html#client"><span class="std std-doc">client</span></a> program, and the other computer on the internet that controls access to the web page is the <a class="reference internal" href="glossary.html#server"><span class="std std-doc">server</span></a>.</p>
<p>HTTP (HyperText Transfer Protocol) is a standard procedure prescribing how requests and responses over the internet should be formulated and transmitted. We do not need to know about the details of HTTP. When we surf the web in our browser, the browser handles implementing the requirements of HTTP. And when we get data from the web in a Python program, <code class="docutils literal notranslate"><span class="pre">requests</span></code> handles this. This is one of the benefits of using a well-written pre-made <a class="reference internal" href="glossary.html#package"><span class="std std-doc">package</span></a> like <code class="docutils literal notranslate"><span class="pre">requests</span></code>; it hides away unnecessary complexity inside <a class="reference internal" href="glossary.html#function"><span class="std std-doc">functions</span></a> that allow us to control just a few important aspects of a task. (The slogan for the <code class="docutils literal notranslate"><span class="pre">requests</span></code> project is ‘<a class="reference external" href="https://requests.readthedocs.io/en/master/">HTTP for Humans</a>’.)</p>
<p>The only thing that we need to know about the details of HTTP is that it prescribes certain ‘response status codes’. These codes are short three-digit numbers, each of which has a particular meaning concerning our request. For example, the status code ‘200’ means that our request was successful. This code is contained at the start of the response that we receive from the server. The <code class="docutils literal notranslate"><span class="pre">requests</span></code> package places it in an <a class="reference internal" href="glossary.html#attribute"><span class="std std-doc">attribute</span></a> of the <code class="docutils literal notranslate"><span class="pre">Response</span></code> object called <code class="docutils literal notranslate"><span class="pre">status_code</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200
</pre></div>
</div>
</div>
</div>
<p>The ‘200’ we see here means that the Guardian’s server was able to fulfill our request, and has sent us the web page that we wanted.</p>
<p>There are various <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes">other HTTP response codes</a>, but you will commonly encounter only a few of them. There is one in particular that you might be familiar with already, having seen it displayed occasionally in your web browser. It occurs if we request a page that the server does not have.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">response2</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://www.theguardian.com/top_secret_prince_philip_sex_tape&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response2</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>404
</pre></div>
</div>
</div>
</div>
<p>‘404’ means ‘not found’.</p>
<p>In fact, the <code class="docutils literal notranslate"><span class="pre">requests</span></code> package goes the extra mile for us and also stores an <a class="reference internal" href="glossary.html#attribute"><span class="std std-doc">attribute</span></a> in the <code class="docutils literal notranslate"><span class="pre">Response</span></code> that gives the human-readable meaning of the status code:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>OK
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response2</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Not Found
</pre></div>
</div>
</div>
</div>
<p>A nice simple flourish that we can add to this first part of our program is a printout confirming the URL of our request (in case we typed it wrong), and the status of our request:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK https://www.theguardian.com/international
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="html">
<h2>HTML<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h2>
<p>As long as our request was successful, the <code class="docutils literal notranslate"><span class="pre">Reponse</span></code> object will also contain the web page or other data that we requested. We can get it as a <a class="reference internal" href="glossary.html#string"><span class="std std-doc">string</span></a> from the <code class="docutils literal notranslate"><span class="pre">text</span></code> <a class="reference internal" href="glossary.html#attribute"><span class="std std-doc">attribute</span></a>.</p>
<p>Since the web page will probably be quite big, we won’t print it all out. Let’s instead first assign it into a new variable for convenience, and check how long it is:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">page</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>

<span class="nb">len</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1139163
</pre></div>
</div>
</div>
</div>
<p>Let’s just print out the first thousand characters to see the top of the web page:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">page</span><span class="p">[:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;!DOCTYPE html&gt;
&lt;html id=&quot;js-context&quot; class=&quot;js-off is-not-modern id--signed-out&quot; lang=&quot;en&quot; data-page-path=&quot;/international&quot;&gt;


    &lt;head&gt;


    
&lt;!--
     __        __                      _     _      _
     \ \      / /__    __ _ _ __ ___  | |__ (_)_ __(_)_ __   __ _
      \ \ /\ / / _ \  / _` | &#39;__/ _ \ | &#39;_ \| | &#39;__| | &#39;_ \ / _` |
       \ V  V /  __/ | (_| | | |  __/ | | | | | |  | | | | | (_| |
        \_/\_/ \___|  \__,_|_|  \___| |_| |_|_|_|  |_|_| |_|\__, |
                                                            |___/
    Ever thought about joining us?
    https://workforus.theguardian.com/careers/product-engineering/
     ---&gt;


    
&lt;title&gt;News, sport and opinion from the Guardian&#39;s global edition | The Guardian&lt;/title&gt;


    

&lt;meta charset=&quot;utf-8&quot;&gt;

    &lt;meta name=&quot;description&quot; content=&quot;Latest international news, sport and comment from the Guardian&quot; /&gt;


&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=Edge&quot; /&gt;
&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot; /&gt;
&lt;me
</pre></div>
</div>
</div>
</div>
<p>Go back to your web browser and compare this with what you see there. It is of course completely different. This is because the web browser displays web pages in a prettified format. The ugly plain text that we are looking at here in Python is what our web browser initially receives from the Guardian server. This text is a set of instructions about how the web page is to be displayed. The browser then implements these instructions, putting colors here, images there, highlighting or linking some of the text, and so on, and then shows us the result. The process of implementing a set of instructions for displaying something is often called ‘rendering’, and the pretty finished version of the webpage is called the ‘rendered’ version.</p>
<p>That things should be this way makes a certain amount of sense. It would be horribly inefficient for web pages to be stored online as complete, pixel-by-pixel images of the page content, all in color and already laid out. Not only would this require sending very large files across the internet every time someone requested a web page, it would also make web pages inflexible, since they would look the same on any computer or device, no matter the dimensions of its screen or the preferences of its human user. Instead, web pages are stored as fairly minimal instructions about how to display the content of a web page, and it is then up to the web browser program to implement those instructions, and even to ignore or modify some of them in order to adapt the display to a particular device or user, for example making the interface less crowded on a mobile phone, or making the text bigger for a visually-impaired user.</p>
<p>So the content of a web page is behind the scenes really like a set of instructions for a web browser. Instructions for a computer must be written in a programming language of some sort. So what programming language are web pages written in? Not Python unfortunately for us, but a new one, called HTML (HyperText Markup Language).</p>
<p>Let’s take a look at the HTML content of the Guardian web page, and see how the HTML language is structured. The Guardian webpage is a complex one, and the HTML instructions for it are very long, so it would be a bit unwieldy to print it all out in the Python console. Fortunately you can also view the underlying HTML of a web page in your web browser. Go to the Guardian page that you have opened in your browser and try one of the following (which one works will depend on which web browser you are using, but some variant should work in any major browser):</p>
<ul class="simple">
<li><p>Find a blank area of the web page and click on it with the right button of your mouse. From the menu that appears, select the option ‘View Page Source’ or something similar-sounding.</p></li>
<li><p>If that doesn’t work, go to the toolbar of your browser. Click on the main menu button (often at the top right). Select the option ‘Page Source’ or something similar sounding. This option may be contained in a sub-menu called something like ‘Web Developer’ or ‘Developer Tools’.</p></li>
<li><p>As a last resort, go to the address bar of your browser, and in front of the website address prepend the instruction <code class="docutils literal notranslate"><span class="pre">view-source:</span></code>.</p></li>
</ul>
<p>This should open a separate panel or a whole new tab displaying the plain text HTML of the web page. Something like this:</p>
<p><img alt="" src="_images/page_source.png" /></p>
<p>If you can’t make this work, then you can use the following commands in your Spyder console to save the HTML text that we just got into a text file, then you can go and open the text file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;page_source.html&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>But beware that if you just click on this text file in your file explorer it will most probably open in your web browser and show you the rendered webpage! To see the HTML, open it in a text editor instead.</p>
<div class="section" id="tags">
<h3>Tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h3>
<p>So what is the general <a class="reference internal" href="glossary.html#syntax"><span class="std std-doc">syntax</span></a> of HTML? The ‘M’ in HTML stands for ‘markup’, and a <a class="reference internal" href="glossary.html#markup"><span class="std std-doc">markup language</span></a> is a language that consists mainly of normal human-readable text. In a markup language, the text is ‘marked up’, that is it is decorated with various surrounding instructions that tell a computer various things about how to display the text. For example, there are instructions for specifying the color and size of the text, for turning text into a clickable link, for inserting images, and so on.</p>
<p>In HTML, these additional instructions take the form of ‘tags’. Tags mark up some part of the text by enclosing it in an opening tag and a closing tag. An opening tag begins and with the character <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and ends with <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>. Between these characters is the name of the tag, and possibly some further information. The information in the opening tag says something about how to treat the text that follows. A closing tag also begins and ends with <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, but between these characters comes a <code class="docutils literal notranslate"><span class="pre">/</span></code>, followed by the name of the tag that is being closed.</p>
<p>For example, on line 15 of the HTML for the Guardian front page there is some text enclosed in opening and closing ‘title’ tags:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;title&gt;News,</span> <span class="pre">sport</span> <span class="pre">and</span> <span class="pre">opinion</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">Guardian's</span> <span class="pre">global</span> <span class="pre">edition</span> <span class="pre">|</span> <span class="pre">The</span> <span class="pre">Guardian&lt;/title&gt;</span></code></p>
</div></blockquote>
<p>These tags say merely ‘this text is the title of the document’; they do not in themselves say anything about how to treat that title. Typically, web browsers display the title in the header of the browser window and/or in the tab in which the web page is open. But in principle it is entirely up to the web browser program what to do with tagged text. If we were writing our own web browser app, we could instead write it such that text tagged as ‘title’ is displayed in massive overlaid letters across the middle of the screen, or is fed into a text-to-speech algorithm and then auto-tuned to the melody of a popular light opera and sung out of the speakers.</p>
<p>In the example HTML file <span class="xref myst">html_examples.html</span> you can see some other common HTML tags in action. Remember, if you just download this file and open it, it will probably open in your web browser and show you the rendered web page. To see the underlying text HTML, open the file in a text editor instead.</p>
<p>Let’s look briefly at a few features of HTML syntax.</p>
</div>
<div class="section" id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h3>
<p>Like Python, the HTML language allows for <a class="reference internal" href="glossary.html#comment"><span class="std std-doc">comments</span></a>, pieces of text that have no effect on the computer and are there only for human readers. Python comments are simple; any line beginning with the hash symbol <code class="docutils literal notranslate"><span class="pre">#</span></code> is a comment. HTML comments are slightly more complex. HTML marks both the start and the end of a comment. A comment begins with the character combination <code class="docutils literal notranslate"><span class="pre">&lt;!--</span></code> and ends with the combination <code class="docutils literal notranslate"><span class="pre">---&gt;</span></code>. Anything between these two groups of characters is ignored by the web browser.</p>
<p>On the Guardian page, you can see a comment near the top of the page containing a recruitment advertisement for web developers.</p>
</div>
<div class="section" id="hyperlinks">
<h3>Hyperlinks<a class="headerlink" href="#hyperlinks" title="Permalink to this headline">¶</a></h3>
<p>One of the most important features of HTML is that it can specify links from one document to another (hyperlinks). Somewhat confusingly, it is not the <code class="docutils literal notranslate"><span class="pre">&lt;link&gt;</span></code> tag that turns a piece of text into a clickable hyperlink (this tag has another role that we will not go into here). Instead it is the <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag. The ‘a’ here stands for ‘anchor’, in the sense of a position in a text being an ‘anchor point’ that other documents may link to, and that may vice versa link to other documents.</p>
<p>So in HTML to turn the piece of plain text ‘Complaints &amp; Corrections’ into a clickable link, it would be enclosed in tags like this:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;a&gt;Complaints</span> <span class="pre">&amp;</span> <span class="pre">corrections&lt;/a&gt;</span></code></p>
</div></blockquote>
<p>The result looks like this:</p>
<p><a>Complaints &amp; corrections</a></p>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>Some HTML tags need to specify additional information. For example the <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag isn’t much use without specifying where the hyperlink should point to. On its own, enclosing text in <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;&lt;/a&gt;</span></code> makes a piece of text behave a bit like a hyperlink (it is highlighted and responds to the mouse hovering over it, and so on), but when the text is clicked nothing happens.</p>
<p>To specify additional things about how a piece of tagged text is to be treated, the opening tag may contain one or more ‘attributes’. These attributes have specific names and control further details relevant to that type of tag. The syntax for an attribute is to write the attribute name, followed by the equals sign <code class="docutils literal notranslate"><span class="pre">=</span></code>, followed by some value for the attribute. This is syntactically just like <a class="reference internal" href="glossary.html#assignment"><span class="std std-doc">assignment</span></a> in Python, but don’t confuse the two; the <code class="docutils literal notranslate"><span class="pre">=</span></code> does not assign a variable in HTML.</p>
<p>The ‘href’ attribute (an abbreviation of ‘hypertext reference’) of an <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag specifies the <a class="reference internal" href="glossary.html#url"><span class="std std-ref">URL</span></a> of the page that the link should point to. So the link to the Guardian’s complaints page looks something like this in the underlying HTML:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;a</span> <span class="pre">href=&quot;https://www.theguardian.com/info/complaints-and-corrections&quot;&gt;Complaints</span> <span class="pre">&amp;</span> <span class="pre">corrections&lt;/a&gt;</span></code></p>
</div></blockquote>
<p>And now the link on the resulting web page actually points somewhere:</p>
<p><a href="https://www.theguardian.com/info/complaints-and-corrections">Complaints &amp; corrections</a></p>
</div>
</div>
<div class="section" id="parsing-html">
<h2>Parsing HTML<a class="headerlink" href="#parsing-html" title="Permalink to this headline">¶</a></h2>
<p>We now have the HTML content of our target web page, and we know a little bit about HTML. Our next task is to extract the part of the page that we are interested in. The HTML of real-world web pages is often very convoluted and full of all sorts of irrelevant technical and filler information. If you scroll through the HTML of the Guardian front page for example, you will see lots and lots of incomprehensible tags and comments before you get to anything that looks like an article headline.</p>
<p>We are looking for a link to the main headline article. The first step in finding it is to find out whether there is a particular recognizable tag or combination of tags that will lead us to this link. For this, it is easiest to use the web browser first, before we do anything in our Python program.</p>
<p>Take a look at the rendered webpage in the web browser, and look for the text of the main headline. It will be at the top of a section called ‘Headlines’, which itself will be near the top of the page). Way back when I wrote this tutorial, the main headline was ‘King Henry to divorce Kate of Aragon. Pope says NO!’ but of course by the time you come to try out the task the headline will have changed.</p>
<p>The headline text will also appear in the HTML somewhere. So make a mental note or copy the text of the headline and head now to the HTML page source. Use your browser’s ‘find’ tool to search for this text. Once you have found the headline text in the HTML, you should see that it appears on a fairly long line of HTML, enclosed in multiple tags. The line will look a bit like this (though I have abbreviated it here somewhat in order to focus on its most important characteristics):</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;h3</span> <span class="pre">class=&quot;fc-item__title&quot;&gt;&lt;a</span> <span class="pre">href=&quot;https://www.theguardian.com/uk-news/1527/Queen_Kate_divorce_pope_no_no_no&quot;</span> <span class="pre">class=&quot;fc-item__link&quot;</span> <span class="pre">data-link-name=&quot;article&quot;&gt;&lt;span</span> <span class="pre">class=&quot;js-headline-text&quot;&gt;King</span> <span class="pre">Henry</span> <span class="pre">to</span> <span class="pre">divorce</span> <span class="pre">Kate</span> <span class="pre">of</span> <span class="pre">Aragon.</span> <span class="pre">Pope</span> <span class="pre">says</span> <span class="pre">NO!&lt;/span&gt;&lt;/a&gt;&lt;/h3&gt;</span></code></p>
</div></blockquote>
<p>HTML allows tags to be ‘nested’ inside one another. This is what we see here. The text of the main headline is enclosed within a <code class="docutils literal notranslate"><span class="pre">&lt;span&gt;</span></code> tag, within an <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag, within an <code class="docutils literal notranslate"><span class="pre">&lt;h3&gt;</span></code> tag (or when you view the site the structure of this line may be yet more complex; there are variants depending on the type of the article).</p>
<p>For our example task, it is the <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag that we are ultimately interested in, since its ‘href’ attribute provides the URL for the link to the actual article page. So let’s begin by searching for <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tags in the HTML text of the article that we got from <code class="docutils literal notranslate"><span class="pre">requests.get()</span></code>.</p>
<div class="section" id="beautiful-soup">
<h3>Beautiful Soup<a class="headerlink" href="#beautiful-soup" title="Permalink to this headline">¶</a></h3>
<p>How do we go about searching for tags in HTML? We could of course use <a class="reference internal" href="glossary.html#string"><span class="std std-doc">string</span></a> <a class="reference internal" href="glossary.html#method"><span class="std std-doc">methods</span></a> such as <code class="docutils literal notranslate"><span class="pre">find()</span></code> or <code class="docutils literal notranslate"><span class="pre">index()</span></code>. If you have some extra time on your hands and you would like a challenge, you could give this a go. But you will quickly discover that it is very tedious, and you will probably make some mistakes. When we come up against a task that is tedious to accomplish with basic Python and yet is probably a task that many people have had to do already, then we should ask ourselves: Is there a Python <a class="reference internal" href="glossary.html#package"><span class="std std-doc">package</span></a> out there that can do this already?</p>
<p>Indeed there is. The most widely-used package for searching in and manipulating HTML is one called ‘Beautiful Soup’. This package can chop up an HTML document into its constituent tags and then let us pull out specific tags, their attributes, their enclosed text, and so on. The process of chopping up structured text into its constituent parts is known as <a class="reference internal" href="glossary.html#parse"><span class="std std-doc">parsing</span></a> the text. Beautiful Soup is a package for parsing HTML. The name ‘Beautiful Soup’ is based on imagining messy ‘raw’ HTML being turned into a nice tasty ‘soup’.</p>
<p>For brevity, the actual name of the Beautiful Soup package within Python is <code class="docutils literal notranslate"><span class="pre">bs4</span></code>. Let’s <a class="reference internal" href="glossary.html#import"><span class="std std-doc">import</span></a> it. (And yes, <code class="docutils literal notranslate"><span class="pre">bs4</span></code> too is part of the default Anaconda installation).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bs4</span>
</pre></div>
</div>
</div>
</div>
<p>The main function that we want from <code class="docutils literal notranslate"><span class="pre">bs4</span></code> is called simply <code class="docutils literal notranslate"><span class="pre">BeautifulSoup()</span></code> (note the uppercase letters). The <a class="reference internal" href="glossary.html#argument"><span class="std std-doc">argument</span></a> is a <a class="reference internal" href="glossary.html#string"><span class="std std-doc">string</span></a> containing the contents of an HTML document. This is what we got from <code class="docutils literal notranslate"><span class="pre">requests</span></code> earlier.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">page</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As usual, let’s check the <a class="reference internal" href="glossary.html#type"><span class="std std-doc">type</span></a> of the resulting variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bs4.BeautifulSoup
</pre></div>
</div>
</div>
</div>
<p>This new <code class="docutils literal notranslate"><span class="pre">BeautifulSoup</span></code> object contains our HTML, but with many useful <a class="reference internal" href="glossary.html#method"><span class="std std-doc">methods</span></a> added for picking out specific tags. The methods that we will need all begin with <code class="docutils literal notranslate"><span class="pre">find_</span></code>, so let’s look just at these:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">meth</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">meth</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;find_&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">meth</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>find_all
find_all_next
find_all_previous
find_next
find_next_sibling
find_next_siblings
find_parent
find_parents
find_previous
find_previous_sibling
find_previous_siblings
</pre></div>
</div>
</div>
</div>
<div class="section" id="finding-tags">
<h4>Finding tags<a class="headerlink" href="#finding-tags" title="Permalink to this headline">¶</a></h4>
<p>For most simple tasks, the one that we want is <code class="docutils literal notranslate"><span class="pre">find_all()</span></code>. We can use this to find all the tags of a particular kind. The first <a class="reference internal" href="glossary.html#argument"><span class="std std-doc">argument</span></a> is the name of the tag we are looking for, just as a plain string, without the <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span></code> characters. For example, all the <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tags:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_tags</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So how many <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tags did we get from the HTML of our Guardian page?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">a_tags</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>416
</pre></div>
</div>
</div>
</div>
<p>Clearly we need to refine our search if we want to pick out just the <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag for the link to the main headline article. The main way of refining a search for tags is to specify what attributes the tag must have. The additional <code class="docutils literal notranslate"><span class="pre">attrs</span></code> <a class="reference internal" href="glossary.html#argument"><span class="std std-doc">argument</span></a> to <code class="docutils literal notranslate"><span class="pre">find_all()</span></code> can be a <a class="reference internal" href="glossary.html#dictionary"><span class="std std-doc">dictionary</span></a> whose keys are the names of the desired attributes, and whose corresponding values specify what the content of each attribute must be.</p>
<p>If you take a look at the HTML, you will see that our target <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag has two additional attributes ‘class’ and ‘data-link-name’:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;a</span> <span class="pre">href=&quot;...&quot;</span> <span class="pre">class=&quot;fc-item__link&quot;</span> <span class="pre">data-link-name=&quot;article&quot;&gt;</span></code></p>
</div></blockquote>
<p>So we can narrow our search to tags with these attributes like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">target_attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;fc-item__link&#39;</span><span class="p">,</span> <span class="s1">&#39;data-link-name&#39;</span><span class="p">:</span><span class="s1">&#39;article&#39;</span><span class="p">}</span>
<span class="n">a_tags</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">target_attributes</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">a_tags</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>109
</pre></div>
</div>
</div>
</div>
<p>That has narrowed it down considerably, but we still get a lot more than just our one target tag.</p>
<div class="section" id="finding-tags-within-tags">
<h5>Finding tags within tags<a class="headerlink" href="#finding-tags-within-tags" title="Permalink to this headline">¶</a></h5>
<p>If we find that an HTML document contains too many tags that look like the one we want, then often the next step is to start looking <em>outside</em> our target tag. An HTML document is usually divided up into sections containing different parts of the text content. You can see this already on the rendered Guardian page; there is a ‘Headlines’ section, and ‘Opinion’ section, ‘Sport’, and so on. So a good option for us here is to search first for the relevant section, and then search within it for the tag we want.</p>
<p>A section in HTML is nothing more than a tag. There are tow main tags that are used to mark sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> (‘divider’) is a very general-purpose division into sections of all kinds. Its effects on the rendered webpage are very varied depending on context.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> is a surprisingly intuitively-named marker for an actual visual section of a page. At least in most cases.</p></li>
</ul>
<p>Often these tags may enclose a large chunk of the page content. You may for example see an opening <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> tag on one line of the HTML, then see its corresponding closing <code class="docutils literal notranslate"><span class="pre">&lt;/div&gt;</span></code> tag only many hundreds of lines later.</p>
<p>When looking for a section that encloses the part of the page that we are interested in, we may need to experiment a little and make some initial guesses. Go back to the source of the Guardian page and start carefully scrolling upwards from the line on which our target <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag appears. You should look for either a <code class="docutils literal notranslate"><span class="pre">&lt;div&gt;</span></code> or a <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tag that has an attribute that looks as though it might be unique to the ‘Headlines’ section. Eventually you will find one that looks very promising:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&lt;section</span> <span class="pre">id=&quot;headlines&quot;</span> <span class="pre">...&gt;</span></code></p>
</div></blockquote>
<p>This tag is particularly likely to be the one that marks only the ‘Headlines’ section because by convention the ‘id’ attribute of an HTML tag is kept unique. The ‘id’ attribute is one that the developers of a web page, and our web browser, can use to pick out one specific part of a page and treat it differently if necessary. So if the Guardian’s web developers know what they are doing, then there should be only one <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tag with ‘id’ ‘headlines’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">headlines</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;headlines&#39;</span><span class="p">})</span>

<span class="nb">len</span><span class="p">(</span><span class="n">headlines</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<p>Success! Although some of the Guardian’s journalists have yet to master the English language, its web developers at least get the HTML right.</p>
<p>If we are sure that there is only one instance of the kind of tag that we are looking for, or if we anyway only want the first one, then we can switch to the <code class="docutils literal notranslate"><span class="pre">find()</span></code> method. This method <a class="reference internal" href="glossary.html#return"><span class="std std-doc">returns</span></a> just one tag instead of a <a class="reference internal" href="glossary.html#list"><span class="std std-doc">list</span></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">headlines</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;headlines&#39;</span><span class="p">})</span>

<span class="nb">type</span><span class="p">(</span><span class="n">headlines</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bs4.element.Tag
</pre></div>
</div>
</div>
</div>
<p>Now we have a variable that contains only the part of the document that is enclosed within this <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tag. Searching within this part of the document is as simple as just applying the same <code class="docutils literal notranslate"><span class="pre">find_</span></code> methods to this new variable instead of to the whole ‘soup’.</p>
<p>So let’s see how many article links we now find:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_tags</span> <span class="o">=</span> <span class="n">headlines</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">target_attributes</span><span class="p">)</span>

<span class="nb">len</span><span class="p">(</span><span class="n">a_tags</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11
</pre></div>
</div>
</div>
</div>
<p>Much better. As a check, let’s go through this shorter list of links and take a look at them all:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">a_tags</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/us-news/2021/jun/23/john-mcafee-dead-spain-prison-extradition&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;John McAfee&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Antivirus entrepreneur found dead in Spanish prison&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/environment/2021/jun/23/climate-change-dangerous-thresholds-un-report&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Climate crisis&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;IPCC steps up warning on tipping points in leaked draft report&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/football/2021/jun/23/germany-hungary-euro-2020-match-report&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Euro 2020&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Goretzka sets up Germany v England last-16 tie after Hungary threaten shock&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/music/2021/jun/22/britney-spears-conservatorship-testimony&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;&#39;I deserve to have a life&#39;&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Britney Spears asks court to end conservatorship&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/world/2021/jun/23/all-uk-arrivals-in-eu-should-be-quarantined-says-angela-merkel&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Coronavirus&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;All UK arrivals in EU should be quarantined, says Angela Merkel&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/world/2021/jun/23/greek-bishops-hurt-in-acid-attack-in-athens&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Greece&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Seven Orthodox bishops hurt in acid attack by priest&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/science/2021/jun/23/scientists-identify-29-planets-where-aliens-could-observe-earth&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Aliens&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Scientists identify 29 habitable planets that could observe Earth&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/global-development/2021/jun/23/brazil-police-indigenous-protesters-teargas-rubber-bullets&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Brazil&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Police use teargas and rubber bullets against indigenous protesters&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/world/2021/jun/23/freed-catalan-leader-calls-on-spain-to-think-about-future-generations&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Catalonia&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Freed leader calls on Spain to ‘think about future generations’&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/world/2021/jun/23/belgian-police-hold-elderly-man-over-retirement-home-death&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;Belgium&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Police hold man ‘99 or 100 years old’ over retirement home death&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/world/2021/jun/23/french-state-sued-for-failing-to-protect-woman-who-killed-rapist-husband&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;France&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;State sued for failing to protect woman who killed rapist husband&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
</pre></div>
</div>
</div>
</div>
<p>This is a bit of a mess and not easy to read, because we are seeing the full HTML of each tag, including the tags within the tag, and all the tag attributes.</p>
<p>In Beautiful Soup, a tag has a <code class="docutils literal notranslate"><span class="pre">get_text()</span></code> <a class="reference internal" href="glossary.html#method"><span class="std std-doc">method</span></a> that gives us just the plain text that is enclosed in the tag. This can be useful for more easily checking the human-readable part of the HTML:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">a_tags</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tag</span><span class="o">.</span><span class="n">get_text</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>John McAfee  Antivirus entrepreneur found dead in Spanish prison 
Climate crisis  IPCC steps up warning on tipping points in leaked draft report 
Euro 2020  Goretzka sets up Germany v England last-16 tie after Hungary threaten shock 
&#39;I deserve to have a life&#39;  Britney Spears asks court to end conservatorship 
Coronavirus  All UK arrivals in EU should be quarantined, says Angela Merkel 
Greece  Seven Orthodox bishops hurt in acid attack by priest 
Aliens  Scientists identify 29 habitable planets that could observe Earth 
Brazil  Police use teargas and rubber bullets against indigenous protesters 
Catalonia  Freed leader calls on Spain to ‘think about future generations’ 
Belgium  Police hold man ‘99 or 100 years old’ over retirement home death 
France  State sued for failing to protect woman who killed rapist husband 
</pre></div>
</div>
</div>
</div>
<p>You can try this in your Spyder console and see the current headlines. You should see that they match up to those displayed in the ‘Headlines’ section of the rendered webpage.</p>
<p>We only want the top headline, and it is reasonable to assume that this will always be the first one in the HTML for the page, so let’s switch to <code class="docutils literal notranslate"><span class="pre">find()</span></code> to isolate just the one we want:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">top_headline</span> <span class="o">=</span> <span class="n">headlines</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="n">target_attributes</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">top_headline</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;a class=&quot;fc-item__link&quot; data-link-name=&quot;article&quot; href=&quot;https://www.theguardian.com/us-news/2021/jun/23/john-mcafee-dead-spain-prison-extradition&quot;&gt;&lt;span class=&quot;fc-item__kicker&quot;&gt;John McAfee&lt;/span&gt; &lt;span class=&quot;u-faux-block-link__cta fc-item__headline&quot;&gt; &lt;span class=&quot;js-headline-text&quot;&gt;Antivirus entrepreneur found dead in Spanish prison&lt;/span&gt;&lt;/span&gt; &lt;/a&gt;
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="getting-attributes">
<h4>Getting attributes<a class="headerlink" href="#getting-attributes" title="Permalink to this headline">¶</a></h4>
<p>Now the next step is to get the URL of the link to the main article page. We learned earlier that this is contained in the ‘href’ attribute of an <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag. Beautiful Soup’s tags can be <a class="reference internal" href="glossary.html#index"><span class="std std-doc">indexed</span></a> with the names of the tag’s attributes, rather like a basic Python <a class="reference internal" href="glossary.html#dictionary"><span class="std std-doc">dictionary</span></a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">top_headline</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

<span class="n">link</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;https://www.theguardian.com/us-news/2021/jun/23/john-mcafee-dead-spain-prison-extradition&#39;
</pre></div>
</div>
</div>
</div>
<p>And now finally we have what we want from the main page: A link to the page for the top headline article.</p>
<p>At this point, it is a good idea to take stock and make a note of what we had to search for in order to find what we wanted. This is something that we can then put into a comment in our finished program as a reminder, in case we later need to refine our search or we find that it does not work as expected the next time the Guardian decides to change the organization of its main page. Something like:</p>
<blockquote>
<div><p>The first <code class="docutils literal notranslate"><span class="pre">&lt;a&gt;</span></code> tag with class “fc-item__link” and data-link-name “article” within the <code class="docutils literal notranslate"><span class="pre">&lt;section&gt;</span></code> tag with id “headlines”.</p>
</div></blockquote>
<p>We haven’t yet finished our target program. We said that we wanted to get the text of the main article, and the URLs of all the links contained in the main article. For this, we will need to now take the URL we have just found, which points to the main article page, <code class="docutils literal notranslate"><span class="pre">get()</span></code> this page using <code class="docutils literal notranslate"><span class="pre">requests</span></code>, then search again in the HTML of the page in order to find the article text and links. However, all of this involves only small variations on the techniques we have already covered. So if you would like to practice, you can try to finish off the example task yourself starting from here. The example <a class="reference internal" href="glossary.html#script"><span class="std std-doc">script</span></a> <span class="xref myst">guardian_top_article.py</span> shows one possible solution.</p>
</div>
</div>
</div>
<div class="section" id="apis">
<h2>APIs<a class="headerlink" href="#apis" title="Permalink to this headline">¶</a></h2>
<p>The task that we just carried out is often called <a class="reference internal" href="glossary.html#scraping"><span class="std std-doc">web scraping</span></a>. We accessed a website using our own computer program rather than a web browser, and our program extracted some information from the page.</p>
<p>You should be aware that not all websites are particularly happy about being scraped. Some websites take actions to block this kind of access. Even for those websites that do not explicitly block activity that looks like scraping, it is important as a matter of good ‘netiquette’ to check first whether a website already provides its own guidelines and methods for programs that want to access its data. When the owner of a web site or other web service provides a specific channel through which other non-browser programs may access data, this system is termed an <a class="reference internal" href="glossary.html#api"><span class="std std-ref">API</span></a> (‘Application Programming Interface’). An API is a system with a fixed set of rules that state what information a website will send back to another computer program when that computer program submits requests in a specific format.</p>
<p>The Guardian website, for example, in fact provides a more structured way for us to access the content of its articles, via an API. You can read a bit more about it at the <a class="reference external" href="https://open-platform.theguardian.com/documentation">Guardian API documentation page</a>. The Guardian’s API asks our program to go to the following URL if we want to search for articles:</p>
<p><code class="docutils literal notranslate"><span class="pre">'https://content.guardianapis.com/search'</span></code></p>
<p>We should then add one or more ‘parameters’ to the URL in order to refine our search. The <a class="reference internal" href="glossary.html#syntax"><span class="std std-doc">syntax</span></a> for adding parameters to a URL is to place a <code class="docutils literal notranslate"><span class="pre">?</span></code> character after the main URL, then name the parameters and their values using <code class="docutils literal notranslate"><span class="pre">=</span></code>, separating multiple parameters with <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>. The Guardian API allows for the parameters ‘q’, to specify a search word, and ‘from-date’, to specify a date at which to begin the search. So the URL for a request for articles about taramasalata published since 2014 would look like this:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://content.guardianapis.com/search?q=taramasalata&amp;from-date=2014-01-01</span></code></p>
<p>However, rather than try to put together the whole URL ourselves and probably misplace some vital punctuation somewhere, we can let the <code class="docutils literal notranslate"><span class="pre">requests</span></code> package do it for us. The <code class="docutils literal notranslate"><span class="pre">get()</span></code> function has an optional <code class="docutils literal notranslate"><span class="pre">params</span></code> <a class="reference internal" href="glossary.html#argument"><span class="std std-doc">argument</span></a> that can be a <a class="reference internal" href="glossary.html#dictionary"><span class="std std-doc">dictionary</span></a> of parameters for the URL. Like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_url</span> <span class="o">=</span> <span class="s1">&#39;https://content.guardianapis.com/search&#39;</span>
<span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;q&#39;</span><span class="p">:</span><span class="s1">&#39;taramasalata&#39;</span><span class="p">,</span> <span class="s1">&#39;from-date&#39;</span><span class="p">:</span><span class="s1">&#39;2014-01-01&#39;</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">api_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="api-keys">
<h3>API keys<a class="headerlink" href="#api-keys" title="Permalink to this headline">¶</a></h3>
<p>However, something is not quite right when we check the status of our request to the Guardian’s API:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>401 Unauthorized
</pre></div>
</div>
</div>
</div>
<p>Take a look back at the <a class="reference external" href="https://open-platform.theguardian.com/documentation">documentation page</a> for the API. It states that we first need something called an API <em>key</em>, and then send the key along with our request.</p>
<p>This is a fairly common requirement of APIs. Most, though not all, require everyone that uses the API to first register some information, rather like registering for any other website that provides a service. This requirement allows the owners of the website to keep track of what their content is being used for, and to limit how much use each person can make of it for free.</p>
<p>If you look at the Guardian’s API <a class="reference external" href="https://open-platform.theguardian.com/access">documentation page on keys</a> you can see the terms and conditions of free or commercial use. For example, the free key limits how many requests for data you can make per second and per day. If you would like, you can sign up for a free developer key via this page. You will get a key sent to you. It is just a string of characters. Save this to a text file somewhere safe on your computer, and then you can use it to test out the Guardian API if you want to follow the final examples below.</p>
<p>To get an API key into Python, we can load it from the text file we saved it in. We learned how to load text from files in the <a class="reference internal" href="files.html"><span class="doc std std-doc">lesson on files</span></a>. I have temporarily put mine in the file ‘.guardian_api_key.txt’ in my current Python working directory. (Note that because a text file may often contain an invisible extra <a class="reference internal" href="glossary.html#newline"><span class="std std-doc">newline character</span></a>, it is safest to strip away any surrounding <a class="reference internal" href="glossary.html#whitespace"><span class="std std-doc">whitespace</span></a> just in case.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">api_key</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;.guardian_api_key.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>As the API states, this key should be sent as the ‘api-key’ parameter in our program’s request. So like this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">query</span><span class="p">[</span><span class="s1">&#39;api-key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">api_key</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">api_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">query</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">reason</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>200 OK
</pre></div>
</div>
</div>
</div>
<p>Now it works!</p>
<p>So what answer did we get? Let’s take a look at the text of the response, as we did when we just accessed the front page earlier:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&quot;response&quot;:{&quot;status&quot;:&quot;ok&quot;,&quot;userTier&quot;:&quot;developer&quot;,&quot;total&quot;:49,&quot;startIndex&quot;:1,&quot;pageSize&quot;:10,&quot;currentPage&quot;:1,&quot;pages&quot;:5,&quot;orderBy&quot;:&quot;relevance&quot;,&quot;results&quot;:[{&quot;id&quot;:&quot;food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2020-07-15T10:30:24Z&quot;,&quot;webTitle&quot;:&quot;Lucky dip: 17 delicious dunkable snacks that aren’t hummus&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2019/nov/30/scallop-roe-alternative-use-taramasalata-recipe-waste-not-tom-hunt&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2019-11-30T06:00:28Z&quot;,&quot;webTitle&quot;:&quot;An alternative use for scallop roe&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2019/nov/30/scallop-roe-alternative-use-taramasalata-recipe-waste-not-tom-hunt&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2019/nov/30/scallop-roe-alternative-use-taramasalata-recipe-waste-not-tom-hunt&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;games/2021/apr/02/play-nicely-the-fun-and-frustrations-of-gaming-with-your-partner&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;games&quot;,&quot;sectionName&quot;:&quot;Games&quot;,&quot;webPublicationDate&quot;:&quot;2021-04-02T09:00:06Z&quot;,&quot;webTitle&quot;:&quot;Play nicely! The fun and frustrations of gaming with your partner&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/games/2021/apr/02/play-nicely-the-fun-and-frustrations-of-gaming-with-your-partner&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/games/2021/apr/02/play-nicely-the-fun-and-frustrations-of-gaming-with-your-partner&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/arts&quot;,&quot;pillarName&quot;:&quot;Arts&quot;},{&quot;id&quot;:&quot;lifeandstyle/2019/nov/26/grand-aioli-the-dinner-to-cook-when-you-cant-be-bothered-cooking&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;lifeandstyle&quot;,&quot;sectionName&quot;:&quot;Life and style&quot;,&quot;webPublicationDate&quot;:&quot;2019-11-25T17:00:01Z&quot;,&quot;webTitle&quot;:&quot;Grand aioli: the dinner to cook when you can&#39;t be bothered cooking&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/lifeandstyle/2019/nov/26/grand-aioli-the-dinner-to-cook-when-you-cant-be-bothered-cooking&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/lifeandstyle/2019/nov/26/grand-aioli-the-dinner-to-cook-when-you-cant-be-bothered-cooking&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2019/dec/14/how-turn-christmas-party-leftovers-mexican-brunch&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2019-12-14T06:00:15Z&quot;,&quot;webTitle&quot;:&quot;How to turn Christmas party leftovers into a Mexican brunch | Waste not&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2019/dec/14/how-turn-christmas-party-leftovers-mexican-brunch&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2019/dec/14/how-turn-christmas-party-leftovers-mexican-brunch&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2020/sep/20/jay-rayner-restaurant-review-lyons-seafood-and-wine-bar-london-an-intriguing-thing&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2020-09-20T05:00:37Z&quot;,&quot;webTitle&quot;:&quot;Lyon’s Seafood and Wine Bar, London: ‘An intriguing thing’ – restaurant review&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2020/sep/20/jay-rayner-restaurant-review-lyons-seafood-and-wine-bar-london-an-intriguing-thing&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2020/sep/20/jay-rayner-restaurant-review-lyons-seafood-and-wine-bar-london-an-intriguing-thing&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2020/feb/28/the-melusine-london-e1-restaurant-review-grace-dent&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2020-02-28T09:30:13Z&quot;,&quot;webTitle&quot;:&quot;The Melusine, London E1: ‘A small kitchen turning out magic’ – restaurant review | Grace Dent&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2020/feb/28/the-melusine-london-e1-restaurant-review-grace-dent&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2020/feb/28/the-melusine-london-e1-restaurant-review-grace-dent&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2019/oct/17/flaccid-croissants-oil-drenched-carbs-train-jay-rayner&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2019-10-17T11:00:26Z&quot;,&quot;webTitle&quot;:&quot;Flaccid croissants, oil-drenched carbs. Yes, I’m on the road again&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2019/oct/17/flaccid-croissants-oil-drenched-carbs-train-jay-rayner&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2019/oct/17/flaccid-croissants-oil-drenched-carbs-train-jay-rayner&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;food/2020/jan/09/fitbit-for-chickpeas-zipcar-for-leftovers-the-food-tech-we-really-need-in-the-2020s&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;food&quot;,&quot;sectionName&quot;:&quot;Food&quot;,&quot;webPublicationDate&quot;:&quot;2020-01-09T08:00:02Z&quot;,&quot;webTitle&quot;:&quot;Fitbit for chickpeas, Zipcar for leftovers: the food tech we really need in the 2020s&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/food/2020/jan/09/fitbit-for-chickpeas-zipcar-for-leftovers-the-food-tech-we-really-need-in-the-2020s&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/food/2020/jan/09/fitbit-for-chickpeas-zipcar-for-leftovers-the-food-tech-we-really-need-in-the-2020s&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/lifestyle&quot;,&quot;pillarName&quot;:&quot;Lifestyle&quot;},{&quot;id&quot;:&quot;science/2019/dec/02/did-you-solve-it-smart-as-a-box-of-frogs&quot;,&quot;type&quot;:&quot;article&quot;,&quot;sectionId&quot;:&quot;science&quot;,&quot;sectionName&quot;:&quot;Science&quot;,&quot;webPublicationDate&quot;:&quot;2019-12-02T17:10:09Z&quot;,&quot;webTitle&quot;:&quot;Did you solve it? Smart as a box of frogs&quot;,&quot;webUrl&quot;:&quot;https://www.theguardian.com/science/2019/dec/02/did-you-solve-it-smart-as-a-box-of-frogs&quot;,&quot;apiUrl&quot;:&quot;https://content.guardianapis.com/science/2019/dec/02/did-you-solve-it-smart-as-a-box-of-frogs&quot;,&quot;isHosted&quot;:false,&quot;pillarId&quot;:&quot;pillar/news&quot;,&quot;pillarName&quot;:&quot;News&quot;}]}}
</pre></div>
</div>
</div>
</div>
<p>Yet again this looks like a bit of a mess. But if you stop your eyes from glazing over for a moment and look closely, you will notice that this is not an HTML mess. It is something else. Do you recognize it?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;SPOILER ALERT &#39;</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT SPOILER ALERT 
</pre></div>
</div>
</div>
</div>
<p>That’s right. It’s a JSON mess! Remember <a class="reference internal" href="glossary.html#json"><span class="std std-ref">JSON</span></a>? JSON is a text data format that we met in the <a class="reference internal" href="files.html#json"><span class="std std-ref">lesson on files</span></a>. It shares the curly bracket and square bracket <a class="reference internal" href="glossary.html#syntax"><span class="std std-doc">syntax</span></a> of Python <a class="reference internal" href="glossary.html#dictionary"><span class="std std-doc">dictionaries</span></a> and <a class="reference internal" href="glossary.html#list"><span class="std std-doc">lists</span></a>.</p>
<p>The Guardian’s API by default sends back some JSON rather than HTML. This is fairly common; since APIs are intended for use by computer programs, many of them send data in JSON format because this is a format that is easy for computer programs to make use of. All the extra fancy formatting instructions of HTML are not necessary if the text is only to be consumed by a computer program.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">requests</span></code> <code class="docutils literal notranslate"><span class="pre">Response</span></code> object has a <a class="reference internal" href="glossary.html#method"><span class="std std-doc">method</span></a> for converting any JSON data that is received into Python lists and dictionaries:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_data</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="nb">type</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict
</pre></div>
</div>
</div>
</div>
<p>Now we can explore what we got, using basic Python list and dictionary techniques:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;response&#39;])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">json_data</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;response&#39;</span><span class="p">]</span>

<span class="n">json_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;status&#39;, &#39;userTier&#39;, &#39;total&#39;, &#39;startIndex&#39;, &#39;pageSize&#39;, &#39;currentPage&#39;, &#39;pages&#39;, &#39;orderBy&#39;, &#39;results&#39;])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">json_data</span><span class="p">[</span><span class="s1">&#39;results&#39;</span><span class="p">]</span>

<span class="nb">type</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>list
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;id&#39;: &#39;food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&#39;,
 &#39;type&#39;: &#39;article&#39;,
 &#39;sectionId&#39;: &#39;food&#39;,
 &#39;sectionName&#39;: &#39;Food&#39;,
 &#39;webPublicationDate&#39;: &#39;2020-07-15T10:30:24Z&#39;,
 &#39;webTitle&#39;: &#39;Lucky dip: 17 delicious dunkable snacks that aren’t hummus&#39;,
 &#39;webUrl&#39;: &#39;https://www.theguardian.com/food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&#39;,
 &#39;apiUrl&#39;: &#39;https://content.guardianapis.com/food/2020/jul/15/17-dips-arent-hummus-humungous-salsa-guacamole-taramasalata-baba-ganoush&#39;,
 &#39;isHosted&#39;: False,
 &#39;pillarId&#39;: &#39;pillar/lifestyle&#39;,
 &#39;pillarName&#39;: &#39;Lifestyle&#39;}
</pre></div>
</div>
</div>
</div>
<p>… and so on.</p>
<p>That’s it for our short introduction to the internet. Try an exercise.</p>
</div>
</div>
<div class="section" id="exercise">
<h2>Exercise<a class="headerlink" href="#exercise" title="Permalink to this headline">¶</a></h2>
<p>The website <a class="reference external" href="https://www.etymonline.com">Etymonline.com</a> provides information on the origin of words in English. It is quite fun to browse.</p>
<p>Near the top of the webpage there is a short list of ‘trending’ words, words that many users are currently searching for. Write a script that finds and prints out the current trending words. At the time I wrote this, there was no API for Etymonline, so you can use the basic scraping techniques from the first part of this lesson.</p>
<p>As we learned, you will need to check the HTML source of the page in your browser first and identify the tags or combination of tags that you are looking for, and perhaps some attributes that will help you to single them out.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="nlp.html" title="previous page">Natural language processing</a>
    <a class='right-next' id="next-link" href="databases.html" title="next page">Relational databases</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Jupyter Book community<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>